# CQRS 패턴과 기존에 만들어진 서비스에 CQRS 관심사 분리 적용기

[Nest.js 로 간단한 유저 서비스](https://github.com/lsh955/api_app_nestjs)를 만들어가는 과정에서 CQRS 이라는 걸 알게되었고 이를 적용 해보기로 해 보았다.</br>
이번 장 에서는 CQRS 이라는 내용과 앞서 소개한 Nest.js 로 유저 서비스를 적용하게된 내용을 소개하고 자 한다. 

---

## 1. CQRS 이란?

CQRS 는 명령(Command)과 조회(Query)를 분리하여 성능과 확장성 및 보안성을 높일 수 있도록 해 주는 아키텍처 패턴이다.</br>
다시말해 이름(CQRS)처럼 시스템에서 명령(Command)을 처리하는 책임과 조회(Query)를 처리하는 책임을 분리하는 것이 CQRS 의 핵심 이다.

요구사항이 복잡해질 수록 도메인 모델 역시 복잡해 진다.</br>
데이터를 조회한 쪽에서는 현재의 복잡한 모델 구조의 데이터가 필요하지 않은 경우가 대부분이므로</br>
조회(Query)에서의 모델과 데이터를 업데이트 할 때의 모델을 다르게 가져가도록 하는 방식이다.

정리하면, CQRS 에서 명령(Command)은 시스템의 상태를 변경하는 작업을 의미하고,</br>
조회(Query)는 시스템의 상태를 반환하는 작업의 책임을 분리하는 것 이다.